<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Achievements - RuneScape Competition Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/hybrid-style.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/tiles-hybrid.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/tiles-categories.css') }}" rel="stylesheet">
    <style>
        /* Demo-specific banner */
        .demo-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            text-align: center;
            font-weight: 600;
            margin-bottom: 0;
            border-bottom: 3px solid rgba(255, 255, 255, 0.2);
            font-size: 0.95rem;
            letter-spacing: 0.5px;
            position: relative;
            z-index: 1001;
        }
        
        /* Adjust navbar for demo banner */
        .navbar {
            top: 45px;
        }
        
        body {
            padding-top: 100px; /* Account for demo banner + navbar */
        }
        
        /* Demo-specific adjustments */
        .hero-section {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="demo-banner">
        ðŸŽ® INTERACTIVE DEMO - Achievement System with 4 Difficulty Tiers ðŸŽ®
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">
                <i class="fas fa-trophy me-2"></i>
                RuneScape Competition
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}">
                            <i class="fas fa-home me-1"></i>Leaderboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="{{ url_for('tiles') }}">
                            <i class="fas fa-target me-1"></i>Achievements
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('teams') }}">
                            <i class="fas fa-users me-1"></i>Teams
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('about') }}">
                            <i class="fas fa-info-circle me-1"></i>About Demo
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="hero-content text-center">
                        <h1 class="hero-title">
                            <i class="fas fa-target text-success me-3"></i>
                            Competition Achievements
                        </h1>
                        <p class="hero-subtitle">Complete challenges across four difficulty tiers to earn points</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Achievement Stats Overview -->
    <div class="container mb-5">
        <div class="row g-4">
            {% set easy_count = tiles|selectattr('difficulty', 'equalto', 'Easy')|list|length %}
            {% set medium_count = tiles|selectattr('difficulty', 'equalto', 'Medium')|list|length %}
            {% set hard_count = tiles|selectattr('difficulty', 'equalto', 'Hard')|list|length %}
            {% set extreme_count = tiles|selectattr('difficulty', 'equalto', 'Extreme')|list|length %}
            
            <div class="col-lg-3 col-md-6">
                <div class="stat-card difficulty-easy">
                    <div class="stat-icon">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">{{ easy_count }}</div>
                        <div class="stat-label">Easy</div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card difficulty-medium">
                    <div class="stat-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">{{ medium_count }}</div>
                        <div class="stat-label">Medium</div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card difficulty-hard">
                    <div class="stat-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">{{ hard_count }}</div>
                        <div class="stat-label">Hard</div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card difficulty-extreme">
                    <div class="stat-icon">
                        <i class="fas fa-skull"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">{{ extreme_count }}</div>
                        <div class="stat-label">Extreme</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Filter Section -->
    <div class="container mb-4">
        <div class="filter-section">
            <div class="section-header">
                <h3 class="section-title">
                    <i class="fas fa-filter me-2"></i>Filter Achievements
                </h3>
            </div>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">
                    <i class="fas fa-th me-1"></i>All Achievements
                </button>
                <button class="filter-btn difficulty-easy" data-filter="Easy">
                    <i class="fas fa-leaf me-1"></i>Easy
                </button>
                <button class="filter-btn difficulty-medium" data-filter="Medium">
                    <i class="fas fa-star me-1"></i>Medium
                </button>
                <button class="filter-btn difficulty-hard" data-filter="Hard">
                    <i class="fas fa-fire me-1"></i>Hard
                </button>
                <button class="filter-btn difficulty-extreme" data-filter="Extreme">
                    <i class="fas fa-skull me-1"></i>Extreme
                </button>
            </div>
        </div>
    </div>

    <!-- Achievements Grid -->
    <div class="container mb-5">
        <div class="tiles-grid" id="tilesGrid">
            {% for tile in tiles %}
            <div class="tile-card" data-difficulty="{{ tile.difficulty }}">
                <div class="tile-header">
                    <div class="tile-info">
                        <h4 class="tile-name">{{ tile.name }}</h4>
                        <div class="tile-difficulty difficulty-{{ tile.difficulty.lower() }}">
                            {% if tile.difficulty == 'Easy' %}<i class="fas fa-leaf me-1"></i>
                            {% elif tile.difficulty == 'Medium' %}<i class="fas fa-star me-1"></i>
                            {% elif tile.difficulty == 'Hard' %}<i class="fas fa-fire me-1"></i>
                            {% else %}<i class="fas fa-skull me-1"></i>{% endif %}
                            {{ tile.difficulty }}
                        </div>
                    </div>
                    <div class="tile-points">
                        <i class="fas fa-coins me-1"></i>{{ tile.points }}
                    </div>
                </div>
                
                <div class="tile-description">
                    {{ tile.description }}
                </div>
                
                <div class="tile-stats">
                    <div class="completion-info">
                        <i class="fas fa-check-circle me-1"></i>
                        <span class="completion-count">{{ tile.completion_count }}</span>
                        <span class="completion-label">completion{{ 's' if tile.completion_count != 1 else '' }}</span>
                    </div>
                    
                    {% if tile.completed_by %}
                    <div class="completed-by">
                        <i class="fas fa-users me-1"></i>
                        <span class="completed-list" title="{{ tile.completed_by }}">
                            {{ tile.completed_by[:30] }}{% if tile.completed_by|length > 30 %}...{% endif %}
                        </span>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/tiles-unified.js') }}"></script>
    <script>
        // Filter functionality
        document.addEventListener('DOMContentLoaded', function() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const tileCards = document.querySelectorAll('.tile-card');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const filter = this.getAttribute('data-filter');
                    
                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Filter tiles
                    tileCards.forEach(card => {
                        if (filter === 'all' || card.getAttribute('data-difficulty') === filter) {
                            card.style.display = 'block';
                            setTimeout(() => {
                                card.style.opacity = '1';
                                card.style.transform = 'translateY(0)';
                            }, 50);
                        } else {
                            card.style.opacity = '0';
                            card.style.transform = 'translateY(20px)';
                            setTimeout(() => {
                                card.style.display = 'none';
                            }, 300);
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
